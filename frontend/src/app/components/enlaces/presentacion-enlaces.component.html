<div class="contenedor-wrapper">
  <div class="contenedor" [class.animate-success]="showAnimation">
    <h2>¡Encuesta creada con éxito!</h2>

    <div class="enlace">
      <label>Enlace de participación:</label>
      <input type="text" [value]="enlaceParticipacion" readonly />
      <button
        pButton
        type="button"
        label="Copiar"
        (click)="copiar(enlaceParticipacion)"
      ></button>
    </div>

    <div class="qr">
      <label>Código QR para participar:</label>
      <qrcode
        [qrdata]="enlaceParticipacion"
        [width]="200"
        [errorCorrectionLevel]="'M'"
      ></qrcode>
    </div>

    <div class="enlace">
      <label>Enlace para ver resultados:</label>
      <input type="text" [value]="enlaceResultados" readonly />
      <button
        pButton
        type="button"
        label="Copiar"
        (click)="copiar(enlaceResultados)"
      ></button>
    </div>
    <button
      pButton
      type="button"
      label="Volver al Inicio"
      (click)="volverInicio()"
    ></button>
  </div>

  <!-- Animación de confeti festivo MASIVO -->
  <div class="celebration-animation" *ngIf="showAnimation">
    <!-- ESTRELLITAS MASIVAS ⭐ -->
    <div
      class="confetti-item star star-top"
      *ngFor="let star of confetti.stars.top; let i = index"
      [style.animation-delay.s]="i * 0.05"
    >
      ⭐
    </div>
    <div
      class="confetti-item star star-top-right"
      *ngFor="let star of confetti.stars.topRight; let i = index"
      [style.animation-delay.s]="i * 0.06"
    >
      ⭐
    </div>
    <div
      class="confetti-item star star-right"
      *ngFor="let star of confetti.stars.right; let i = index"
      [style.animation-delay.s]="i * 0.05"
    >
      ⭐
    </div>
    <div
      class="confetti-item star star-bottom-right"
      *ngFor="let star of confetti.stars.bottomRight; let i = index"
      [style.animation-delay.s]="i * 0.06"
    >
      ⭐
    </div>
    <div
      class="confetti-item star star-bottom"
      *ngFor="let star of confetti.stars.bottom; let i = index"
      [style.animation-delay.s]="i * 0.05"
    >
      ⭐
    </div>
    <div
      class="confetti-item star star-bottom-left"
      *ngFor="let star of confetti.stars.bottomLeft; let i = index"
      [style.animation-delay.s]="i * 0.06"
    >
      ⭐
    </div>
    <div
      class="confetti-item star star-left"
      *ngFor="let star of confetti.stars.left; let i = index"
      [style.animation-delay.s]="i * 0.05"
    >
      ⭐
    </div>
    <div
      class="confetti-item star star-top-left"
      *ngFor="let star of confetti.stars.topLeft; let i = index"
      [style.animation-delay.s]="i * 0.06"
    >
      ⭐
    </div>

    <!-- CORAZONES MASIVOS 💖 -->
    <div
      class="confetti-item heart heart-top"
      *ngFor="let heart of confetti.hearts.top; let i = index"
      [style.animation-delay.s]="i * 0.08"
    >
      💖
    </div>
    <div
      class="confetti-item heart heart-top-right"
      *ngFor="let heart of confetti.hearts.topRight; let i = index"
      [style.animation-delay.s]="i * 0.09"
    >
      💖
    </div>
    <div
      class="confetti-item heart heart-right"
      *ngFor="let heart of confetti.hearts.right; let i = index"
      [style.animation-delay.s]="i * 0.08"
    >
      💖
    </div>
    <div
      class="confetti-item heart heart-bottom-right"
      *ngFor="let heart of confetti.hearts.bottomRight; let i = index"
      [style.animation-delay.s]="i * 0.09"
    >
      💖
    </div>
    <div
      class="confetti-item heart heart-bottom"
      *ngFor="let heart of confetti.hearts.bottom; let i = index"
      [style.animation-delay.s]="i * 0.08"
    >
      💖
    </div>
    <div
      class="confetti-item heart heart-bottom-left"
      *ngFor="let heart of confetti.hearts.bottomLeft; let i = index"
      [style.animation-delay.s]="i * 0.09"
    >
      💖
    </div>
    <div
      class="confetti-item heart heart-left"
      *ngFor="let heart of confetti.hearts.left; let i = index"
      [style.animation-delay.s]="i * 0.08"
    >
      💖
    </div>
    <div
      class="confetti-item heart heart-top-left"
      *ngFor="let heart of confetti.hearts.topLeft; let i = index"
      [style.animation-delay.s]="i * 0.09"
    >
      💖
    </div>

    <!-- CELEBRACIÓN MASIVA 🎉🎊 -->
    <div
      class="confetti-item celebration celebration-top"
      *ngFor="let cel of confetti.celebration.top; let i = index"
      [style.animation-delay.s]="i * 0.12"
    >
      🎉
    </div>
    <div
      class="confetti-item celebration celebration-top-right"
      *ngFor="let cel of confetti.celebration.topRight; let i = index"
      [style.animation-delay.s]="i * 0.13"
    >
      🎊
    </div>
    <div
      class="confetti-item celebration celebration-right"
      *ngFor="let cel of confetti.celebration.right; let i = index"
      [style.animation-delay.s]="i * 0.12"
    >
      🎉
    </div>
    <div
      class="confetti-item celebration celebration-bottom-right"
      *ngFor="let cel of confetti.celebration.bottomRight; let i = index"
      [style.animation-delay.s]="i * 0.13"
    >
      🎊
    </div>
    <div
      class="confetti-item celebration celebration-bottom"
      *ngFor="let cel of confetti.celebration.bottom; let i = index"
      [style.animation-delay.s]="i * 0.12"
    >
      🎉
    </div>
    <div
      class="confetti-item celebration celebration-bottom-left"
      *ngFor="let cel of confetti.celebration.bottomLeft; let i = index"
      [style.animation-delay.s]="i * 0.13"
    >
      🎊
    </div>
    <div
      class="confetti-item celebration celebration-left"
      *ngFor="let cel of confetti.celebration.left; let i = index"
      [style.animation-delay.s]="i * 0.12"
    >
      🎉
    </div>
    <div
      class="confetti-item celebration celebration-top-left"
      *ngFor="let cel of confetti.celebration.topLeft; let i = index"
      [style.animation-delay.s]="i * 0.13"
    >
      🎊
    </div>

    <!-- BRILLITOS MASIVOS ✨ -->
    <div
      class="confetti-item sparkle sparkle-top"
      *ngFor="let sparkle of confetti.sparkles.top; let i = index"
      [style.animation-delay.s]="i * 0.07"
    >
      ✨
    </div>
    <div
      class="confetti-item sparkle sparkle-top-right"
      *ngFor="let sparkle of confetti.sparkles.topRight; let i = index"
      [style.animation-delay.s]="i * 0.08"
    >
      ✨
    </div>
    <div
      class="confetti-item sparkle sparkle-right"
      *ngFor="let sparkle of confetti.sparkles.right; let i = index"
      [style.animation-delay.s]="i * 0.07"
    >
      ✨
    </div>
    <div
      class="confetti-item sparkle sparkle-bottom-right"
      *ngFor="let sparkle of confetti.sparkles.bottomRight; let i = index"
      [style.animation-delay.s]="i * 0.08"
    >
      ✨
    </div>
    <div
      class="confetti-item sparkle sparkle-bottom"
      *ngFor="let sparkle of confetti.sparkles.bottom; let i = index"
      [style.animation-delay.s]="i * 0.07"
    >
      ✨
    </div>
    <div
      class="confetti-item sparkle sparkle-bottom-left"
      *ngFor="let sparkle of confetti.sparkles.bottomLeft; let i = index"
      [style.animation-delay.s]="i * 0.08"
    >
      ✨
    </div>
    <div
      class="confetti-item sparkle sparkle-left"
      *ngFor="let sparkle of confetti.sparkles.left; let i = index"
      [style.animation-delay.s]="i * 0.07"
    >
      ✨
    </div>
    <div
      class="confetti-item sparkle sparkle-top-left"
      *ngFor="let sparkle of confetti.sparkles.topLeft; let i = index"
      [style.animation-delay.s]="i * 0.08"
    >
      ✨
    </div>

    <!-- CONFETI GEOMÉTRICO MASIVO -->
    <div
      class="confetti-item geometric circle geometric-outward"
      *ngFor="let circle of confetti.geometric.circles; let i = index"
      [style.animation-delay.s]="i * 0.04"
      [style.background-color]="getRandomColor()"
      [style.left.%]="getRandomPosition()"
      [style.top.%]="getRandomEdgePosition()"
    ></div>
    <div
      class="confetti-item geometric square geometric-outward"
      *ngFor="let square of confetti.geometric.squares; let i = index"
      [style.animation-delay.s]="i * 0.05"
      [style.background-color]="getRandomColor()"
      [style.left.%]="getRandomPosition()"
      [style.top.%]="getRandomEdgePosition()"
    ></div>
    <div
      class="confetti-item geometric triangle geometric-outward"
      *ngFor="let triangle of confetti.geometric.triangles; let i = index"
      [style.animation-delay.s]="i * 0.06"
      [style.border-bottom-color]="getRandomColor()"
      [style.left.%]="getRandomPosition()"
      [style.top.%]="getRandomEdgePosition()"
    ></div>
    <div
      class="confetti-item geometric diamond geometric-outward"
      *ngFor="let diamond of confetti.geometric.diamonds; let i = index"
      [style.animation-delay.s]="i * 0.07"
      [style.background-color]="getRandomColor()"
      [style.left.%]="getRandomPosition()"
      [style.top.%]="getRandomEdgePosition()"
    ></div>

    <!-- RAYOS DE LUZ MASIVOS -->
    <div class="light-ray ray-1"></div>
    <div class="light-ray ray-2"></div>
    <div class="light-ray ray-3"></div>
    <div class="light-ray ray-4"></div>
    <div class="light-ray ray-5"></div>
    <div class="light-ray ray-6"></div>
    <div class="light-ray ray-7"></div>
    <div class="light-ray ray-8"></div>
  </div>

  <!-- Notificación llamativa de copia -->
  <div class="copy-notification" *ngIf="showCopyNotification">
    <div class="notification-content">
      <div class="notification-icon">📋</div>
      <div class="notification-text">
        <div class="notification-title">¡ENLACE COPIADO!</div>
        <div class="notification-subtitle">Al portapapeles</div>
      </div>
      <div class="notification-check">✅</div>
    </div>
    <div class="notification-sparkles">
      <div class="sparkle sparkle-1">✨</div>
      <div class="sparkle sparkle-2">⭐</div>
      <div class="sparkle sparkle-3">💫</div>
      <div class="sparkle sparkle-4">✨</div>
      <div class="sparkle sparkle-5">⭐</div>
      <div class="sparkle sparkle-6">💫</div>
    </div>
  </div>
</div>
